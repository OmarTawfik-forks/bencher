## Dieselのベンチマーク

Dieselの[最初のコミット][github diesel first commit]は、プロジェクトの創設者である[Sage Griffin][github sgrif]によって2015年8月23日に行われました。
これは[Rust 1.0がリリース][rust v1]されてからわずか3ヶ月後のことです。
当初は組み込みの[libtest bench][libtest bench]ベンチマークハーネスを使用していました。
そして[2020年11月3日][github diesel 2507]に、Criterionをベンチマークハーネスとして使用するように切り替えました。

DieselがCriterionを使用するようになった際、
他のRustのORMと[自分たちをベンチマークで比較する][github diesel bench]ことも開始しました。
このベンチマーク比較スイートには現在以下が含まれています：

- [Diesel][github diesel]
- [SQLx][github sqlx]
- [Rustorm][github rustorm]
- [Quaint][github quaint]
- [Postgres][github postgres]
- [Rusqlite][github rusqlite]
- [Mysql][github mysql]
- [diesel-async][github diesel async]
- [wtx][github wtx]
- [SeaORM][github seaorm]

2021年5月5日になって、貢献者で現在のリードメンテナーである
[Georg Semmler][github weiznich]が、Dieselのベンチマーク結果を追跡するようになりました。
彼は[GitHub Actionのナイトリービルド][github actions diesel metrics]を作成し、ベンチマークを実行し、
[別個のメトリクスリポジトリ][github diesel metrics]にベンチマーク結果を追跡するようにしました。
GitHub Actionランナーのノイズのため、これらの結果は大きな変化について一般的な傾向を示すためにのみ依存しています。
また、モニタリングの設定はないため、Dieselのメンテナーはパフォーマンスの低下を確認するために結果を手動でチェックする必要があります。

変更のパフォーマンス影響をよりよく理解するために、
[2022年3月20日][github diesel 3103]には、
[「criterion-perf-events」を使用した命令カウント基準でのベンチマーク][github criterion perf events]が追加されました。
`criterion-perf-events`はLinuxの`perf`イベントを使用するため、GitHub Actionsで実行することはできません。
したがって、これらのベンチマークはローカルで実行する必要があります。

[github diesel first commit]: https://github.com/diesel-rs/diesel/commit/b6b65709ae0c4591713d286273afc293f4e36ca1
[github sgrif]: https://github.com/sgrif
[rust v1]: https://blog.rust-lang.org/2015/05/15/Rust-1.0.html
[github diesel 2507]: https://github.com/diesel-rs/diesel/pull/2507
[github diesel bench]: https://github.com/diesel-rs/diesel/tree/master/diesel_bench
[github diesel]: https://github.com/diesel-rs/diesel
[github sqlx]: https://github.com/launchbadge/sqlx
[github rustorm]: https://github.com/ivanceras/rustorm
[github quaint]: https://github.com/prisma/quaint
[github postgres]: https://github.com/sfackler/rust-postgres
[github rusqlite]: https://github.com/rusqlite/rusqlite
[github mysql]: https://github.com/blackbeam/rust-mysql-simple
[github diesel async]: https://github.com/weiznich/diesel_async
[github wtx]: https://github.com/c410-f3r/wtx
[github seaorm]: https://github.com/SeaQL/sea-orm
[github weiznich]: https://github.com/weiznich
[github diesel metrics]: https://github.com/diesel-rs/metrics
[github actions diesel metrics]: https://github.com/diesel-rs/diesel/commit/f585d63ce573259fc848ff2d561fe5e86faadd6e
[github criterion perf events]: https://github.com/jbreitbart/criterion-perf-events
[github diesel 3103]: https://github.com/diesel-rs/diesel/pull/3103

[libtest bench]: /ja/learn/benchmarking/rust/libtest-bench/
[criterion]: /ja/learn/benchmarking/rust/criterion/
