## Benchmarking Diesel

Le [premier commit][github diesel first commit] de Diesel a été réalisé par le créateur du projet [Sage Griffin][github sgrif] le 23 août 2015.
Ceci a eu lieu seulement trois mois après [la sortie de Rust 1.0][rust v1],
ils ont donc initialement utilisé le [harness de benchmarking libtest intégré][libtest bench].
Ensuite, [le 03 novembre 2020][github diesel 2507], ils sont passés à l'utilisation de [Criterion][criterion] comme harness de benchmarking.

Lorsque Diesel est passé à l'utilisation de Criterion,
ils ont également commencé à [se mesurer par rapport à d'autres ORM Rust][github diesel bench].
Cette suite de comparaison de benchmarks inclut désormais :

- [Diesel][github diesel]
- [SQLx][github sqlx]
- [Rustorm][github rustorm]
- [Quaint][github quaint]
- [Postgres][github postgres]
- [Rusqlite][github rusqlite]
- [Mysql][github mysql]
- [diesel-async][github diesel async]
- [wtx][github wtx]
- [SeaORM][github seaorm]

Ce n'est que le 05 mai 2021 que le contributeur et maintenant mainteneur principal
[Georg Semmler][github weiznich] a commencé à suivre les résultats des benchmarks de Diesel au fil du temps.
Il a créé [une action GitHub nocturne][github actions diesel metrics] pour exécuter les benchmarks
et [un dépôt de métriques séparé][github diesel metrics] pour suivre les résultats des benchmarks.
En raison du bruit des runners d'action GitHub, ces résultats ne sont utilisés que pour montrer une tendance générale pour les grands changements.
Il n'y a également aucun système de surveillance mis en place, donc les mainteneurs de Diesel doivent vérifier manuellement les résultats pour repérer une régression de performance.

Afin d'obtenir une compréhension encore meilleure de l'impact de performance d'une modification,
[le 20 mars 2022][github diesel 3103]
le benchmarking basé sur le compte des instructions a été ajouté [en utilisant `criterion-perf-events`][github criterion perf events].
En raison de l'utilisation par `criterion-perf-events` des événements `perf` de Linux, il ne peut pas être exécuté dans les actions GitHub.
Par conséquent, ces benchmarks doivent être exécutés localement.

[github diesel first commit]: https://github.com/diesel-rs/diesel/commit/b6b65709ae0c4591713d286273afc293f4e36ca1
[github sgrif]: https://github.com/sgrif
[rust v1]: https://blog.rust-lang.org/2015/05/15/Rust-1.0.html
[github diesel 2507]: https://github.com/diesel-rs/diesel/pull/2507
[github diesel bench]: https://github.com/diesel-rs/diesel/tree/master/diesel_bench
[github diesel]: https://github.com/diesel-rs/diesel
[github sqlx]: https://github.com/launchbadge/sqlx
[github rustorm]: https://github.com/ivanceras/rustorm
[github quaint]: https://github.com/prisma/quaint
[github postgres]: https://github.com/sfackler/rust-postgres
[github rusqlite]: https://github.com/rusqlite/rusqlite
[github mysql]: https://github.com/blackbeam/rust-mysql-simple
[github diesel async]: https://github.com/weiznich/diesel_async
[github wtx]: https://github.com/c410-f3r/wtx
[github seaorm]: https://github.com/SeaQL/sea-orm
[github weiznich]: https://github.com/weiznich
[github diesel metrics]: https://github.com/diesel-rs/metrics
[github actions diesel metrics]: https://github.com/diesel-rs/diesel/commit/f585d63ce573259fc848ff2d561fe5e86faadd6e
[github criterion perf events]: https://github.com/jbreitbart/criterion-perf-events
[github diesel 3103]: https://github.com/diesel-rs/diesel/pull/3103

[libtest bench]: /fr/learn/benchmarking/rust/libtest-bench/
[criterion]: /fr/learn/benchmarking/rust/criterion/