import TestbedCreate from "../testbed-create.mdx";
import ThresholdCreateStatistical from "../threshold-create-statistical.mdx";
import RunMainStatistical from "../run-main-statistical.mdx";
import RunFeatureStatistical from "../run-feature-statistical.mdx";

## Statistisches kontinuierliches Benchmarking

Ankn√ºpfend an die
[Schnellstart][quick start]- und [Docker Self-Hosted][docker self-hosted]-Tutorials,
lassen Sie uns statistisches [kontinuierliches Benchmarking][continuous benchmarking] zu unserem `Save Walter White`-Projekt hinzuf√ºgen.

> üê∞ Stellen Sie sicher, dass Sie
> [ein API-Token erstellt und als `BENCHER_API_TOKEN`-Umgebungsvariable gesetzt haben][create an api token],
> bevor Sie fortfahren!

Zuerst m√ºssen wir ein neues Testbed erstellen, um unsere CI-Runner zu repr√§sentieren, passenderweise `ci-runner` genannt.

<TestbedCreate />

1. Verwenden Sie das `bencher testbed create` CLI-Unterkommando.
   Siehe [die `testbed create`-Dokumentation][testbed create] f√ºr weitere Details.
   (Bsp.: `bencher testbed create`)
2. Setzen Sie die `--name`-Option auf den gew√ºnschten Testbed-Namen.
   (Bsp.: `--name ci-runner`)
3. Geben Sie das Projektargument als den `Save Walter White` Projekt-Slug an.
   (Bsp.: `save-walter-white-1234abcd`)

Als N√§chstes m√ºssen wir einen neuen [Schwellenwert][thresholds] f√ºr unser `ci-runner` Testbed erstellen:

<ThresholdCreateStatistical />

1. Verwenden Sie das `bencher threshold create` CLI-Unterkommando.
   Siehe [die `threshold create`-Dokumentation][threshold create] f√ºr weitere Details.
   (Bsp.: `bencher threshold create`)
2. Setzen Sie die `--branch`-Option auf den Standard `main` Branch.
   (Bsp.: `--branch main`)
3. Setzen Sie die `--branch`-Option auf das neue `ci-runner` Testbed.
   (Bsp.: `--testbed ci-runner`)
4. Setzen Sie die `--measure`-Option auf das integrierte `Latency`-Ma√ü, das durch `bencher mock` generiert wird.
   Siehe [die Definition von Ma√ü][measure] f√ºr Details.
   (Bsp.: `--measure Latency`)
5. Setzen Sie die `--test`-Option auf einen `t-test` Schwellenwert.
   Siehe [Schwellenwerte & Alarme][t-test] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--test t-test`)
6. Setzen Sie die `--upper-boundary`-Option auf eine obere Grenze von `0.95`.
   Siehe [Schwellenwerte & Alarme][t-test upper boundary] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--upper-boundary 0.95`)
7. Geben Sie das Projektargument als den `Save Walter White` Projekt-Slug an.
   (Bsp.: `save-walter-white-1234abcd`)

Nun sind wir bereit, unsere Benchmarks in CI auszuf√ºhren.
Da jede CI-Umgebung ein wenig anders ist,
ist das folgende Beispiel eher illustrativ als praktisch gemeint.
F√ºr spezifischere Beispiele siehe [Kontinuierliches Benchmarking in GitHub Actions][github actions]
und [Kontinuierliches Benchmarking in GitLab CI/CD][gitlab ci/cd].

Wir m√ºssen eine historische Basislinie f√ºr unseren `main` Branch erstellen, indem wir jede √Ñnderung in CI benchmarken:

<RunMainStatistical />

1. Verwenden Sie das <code><a href="/de/docs/explanation/bencher-run/">bencher run</a></code> CLI-Unterkommando
   um Ihre Benchmarks des `feature-branch` Branches auszuf√ºhren.
   Siehe [das `bencher run` CLI-Unterkommando][bencher run] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `bencher run`)
2. Setzen Sie die `--project`-Option auf den Projekt-Slug.
   Siehe [die `--project`-Dokumentation][project option] f√ºr weitere Details.
   (Bsp.: `--project save-walter-white-1234abcd`)
3. Setzen Sie die `--branch`-Option auf den Standardbranch-Namen.
   Siehe [Branch-Auswahl][branch selection branch] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--branch main`)
4. Setzen Sie die `--testbed`-Option auf den Testbed-Namen.
   Siehe [die `--tested`-Dokumentation][testbed option] f√ºr weitere Details.
   (Bsp.: `--testbed ci-runner`)
5. Setzen Sie die `--adapter`-Option auf den gew√ºnschten Benchmark-Harness-Adapter.
   Siehe [Benchmark-Harness-Adapter][adapters] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--adapter json`)
6. Setzen Sie das `--err`-Flag, um den Befehl fehlschlagen zu lassen, wenn ein Alarm ausgel√∂st wird.
   Siehe [Schwellenwerte & Alarme][alerts] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--err`)
7. Geben Sie die Benchmark-Kommandoargumente an.
   Siehe [Benchmark-Kommando][command argument] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `bencher mock`)

Schlie√ülich sind wir bereit, Leistungsregressionen in CI zu erkennen.
So w√ºrden wir die Leistung eines neuen Feature-Branches, benannt `feature-branch`, in CI verfolgen:

<RunFeatureStatistical />

1. Verwenden Sie das <code><a href="/de/docs/explanation/bencher-run/">bencher run</a></code> CLI-Unterkommando
   um Ihre Benchmarks des `feature-branch` Branches auszuf√ºhren.
   Siehe [das `bencher run` CLI-Unterkommando][bencher run] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `bencher run`)
2. Setzen Sie die `--project`-Option auf den Projekt-Slug.
   Siehe [die `--project`-Dokumentation][project option] f√ºr weitere Details.
   (Bsp.: `--project save-walter-white-1234abcd`)
3. Setzen Sie die `--branch`-Option auf den Namen des Feature-Branches.
   Siehe [Branch-Auswahl][branch selection branch] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--branch feature-branch`)
4. Setzen Sie die `--branch-start-point`-Option auf den Startpunkt des Feature-Branches.
   Siehe [Branch-Auswahl][branch selection start point] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--branch-start-point main`)
5. Setzen Sie die `--branch-start-point-hash`-Option auf den `git`-Hash des Startpunkts des Feature-Branches.
   Siehe [Branch-Auswahl][branch selection start point hash] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--branch-start-point-hash 32ae...dd8b`)
6. Setzen Sie die `--testbed`-Option auf den Testbed-Namen.
   Siehe [die `--tested`-Dokumentation][testbed option] f√ºr weitere Details.
   (Bsp.: `--testbed ci-runner`)
7. Setzen Sie die `--adapter`-Option auf den gew√ºnschten Benchmark-Harness-Adapter.
   Siehe [Benchmark-Harness-Adapter][adapters] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--adapter json`)
8. Setzen Sie das `--err`-Flag, um den Befehl fehlschlagen zu lassen, wenn ein Alarm ausgel√∂st wird.
   Siehe [Schwellenwerte & Alarme][alerts] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `--err`)
9. Geben Sie die Benchmark-Kommandoargumente an.
   Siehe [Benchmark-Kommando][command argument] f√ºr einen vollst√§ndigen √úberblick.
   (Bsp.: `bencher mock`)

Das erste Mal, wenn dieser Befehl in CI ausgef√ºhrt wird,
wird der `feature-branch` Branch erstellt, da er noch nicht existiert.
Der neue `feature-branch` wird den `main` Branch
am Hash `32aea434d751648726097ed3ac760b57107edd8b` als seinen Ausgangspunkt verwenden.
Das bedeutet, dass `feature-branch` eine Kopie aller Daten und [Schwellenwerte][thresholds]
vom `main` Branch haben wird, um die Ergebnisse von `bencher mock` dagegen zu vergleichen,
f√ºr den ersten und alle nachfolgenden L√§ufe.

[quick start]: /de/docs/tutorial/quick-start/
[docker self-hosted]: /de/docs/tutorial/docker/
[continuous benchmarking]: /de/docs/explanation/continuous-benchmarking/
[create an api token]: /de/docs/tutorial/quick-start/#create-an-api-token
[testbed create]: /de/docs/api/projects/testbeds/#post-v0projectsprojecttestbeds
[thresholds]: /de/docs/explanation/thresholds/
[threshold create]: /de/docs/api/projects/thresholds/#post-v0projectsprojectthresholds
[measure]: /de/docs/explanation/benchmarking/#measures
[t-test]: /de/docs/explanation/thresholds/#t-test-thresholds
[t-test upper boundary]: /de/docs/explanation/thresholds/#t-test-upper-boundary
[github actions]: /de/docs/how-to/github-actions/
[gitlab ci/cd]: /de/docs/how-to/gitlab-ci-cd/
[bencher run]: /de/docs/explanation/bencher-run/
[project option]: /de/docs/explanation/bencher-run/#--project-project
[branch selection branch]: /de/docs/explanation/branch-selection/#--branch-branch
[testbed option]: /de/docs/explanation/bencher-run/#--testbed-testbed
[adapters]: /de/docs/explanation/adapters/
[alerts]: /de/docs/explanation/thresholds/#alerts
[command argument]: /de/docs/explanation/bencher-run/#benchmark-command
[branch selection start point]: /de/docs/explanation/branch-selection/#--branch-start-point-branch
[branch selection start point hash]: /de/docs/explanation/branch-selection/#--branch-start-point-hash-hash